<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="using:MnemoApp.UI.Components.Overlays"
             x:Class="MnemoApp.UI.Components.Overlays.RuntimePermissionPrompt"
             x:DataType="local:RuntimePermissionPrompt"
             x:Name="Self">
  <Border Background="{DynamicResource OverlayBackgroundBrush}"
          BorderBrush="{DynamicResource IconsSeparationBarBrush}"
          BorderThickness="1"
          CornerRadius="12"
          Padding="24"
          MinWidth="400"
          MaxWidth="500">
    <Grid RowDefinitions="Auto,Auto,Auto" RowSpacing="20">
      <!-- Header -->
      <StackPanel Grid.Row="0" Spacing="8">
        <TextBlock Text="Additional Permission Required"
                   FontSize="{DynamicResource FontSize.Heading4}" 
                   FontFamily="{DynamicResource Font.Bold}"
                   Foreground="{DynamicResource TextPrimaryBrush}"
                   HorizontalAlignment="Center"/>
        <TextBlock Text="{Binding #Self.ExtensionInfo}"
                   FontFamily="{DynamicResource Font.Medium}"
                   FontSize="{DynamicResource FontSize.Body.Small}"
                   Foreground="{DynamicResource TextSecondaryBrush}"
                   HorizontalAlignment="Center"
                   TextWrapping="Wrap"/>
      </StackPanel>

      <!-- Permission Info -->
      <StackPanel Grid.Row="1" Spacing="12">
        <Border Background="{DynamicResource WidgetBackgroundSecondary}"
                CornerRadius="8"
                Padding="16">
          <StackPanel Spacing="8">
            <TextBlock Text="{Binding #Self.PermissionName}"
                       FontSize="{DynamicResource FontSize.Heading5}"
                       FontFamily="{DynamicResource Font.SemiBold}"
                       Foreground="{DynamicResource TextPrimaryBrush}"
                       HorizontalAlignment="Center"/>
            <TextBlock Text="{Binding #Self.PermissionDescription}"
                       FontSize="{DynamicResource FontSize.Body.Small}"
                       Foreground="{DynamicResource TextSecondaryBrush}"
                       HorizontalAlignment="Center"
                       TextWrapping="Wrap"/>
          </StackPanel>
        </Border>
      </StackPanel>

      <!-- Buttons -->
      <StackPanel Grid.Row="2" 
                  Orientation="Horizontal" 
                  Spacing="12" 
                  HorizontalAlignment="Center">
        <Button Content="Deny"
                Classes="Subtle"
                Command="{Binding #Self.DenyCommand}"
                MinWidth="100"/>
        <Button Content="Allow"
                Command="{Binding #Self.AllowCommand}"
                MinWidth="100"/>
      </StackPanel>
    </Grid>
  </Border>
</UserControl>
