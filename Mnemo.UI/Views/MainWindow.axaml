<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:Mnemo.UI.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:sidebar="using:Mnemo.UI.Components.Sidebar"
        xmlns:components="using:Mnemo.UI.Components"
        mc:Ignorable="d" d:DesignWidth="1200" d:DesignHeight="800"
        x:Class="Mnemo.UI.Views.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        Icon="avares://Mnemo.UI/Assets/menmo_dark.ico"
        Title="Mnemo"
        SystemDecorations="None"
        CanMinimize="True"
        CanResize="True"
        Background="transparent">

<Border CornerRadius="8" Background="{DynamicResource WorkspaceBackgroundBrush}" ClipToBounds="True">
    <Grid>
        <!-- Actual Application Content -->
        <Grid RowDefinitions="Auto,*" ColumnDefinitions="Auto,*">
            <!-- Sidebar -->
            <sidebar:Sidebar Grid.Row="0" Grid.RowSpan="2" Grid.Column="0" DataContext="{Binding SidebarViewModel}"/>

            <!-- Topbar -->
            <components:Topbar Grid.Row="0" Grid.Column="1" PointerPressed="Window_PointerPressed" DataContext="{Binding TopbarViewModel}"/>

            <!-- Main Content -->
            <ContentControl Grid.Row="1" Grid.Column="1" 
                            Content="{Binding Navigation.CurrentViewModel}"/>
        </Grid>

        <!-- Global Overlay Layer -->
        <components:OverlayPopupHost HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>
    </Grid>
</Border>
</Window>





